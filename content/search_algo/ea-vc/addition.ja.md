---
title: "Addition"
weight: 200
---

現在の原子数が `ul_nat` で指定された上限を超えない原子種をランダムに選択し，その原子をランダムな位置に1個追加する．  
- 原子を1個追加し，それが `mindist` で指定される最小原子間距離の制限を満たしていれば，その構造を採用する．  
- 距離の条件を満たさない場合は，別のランダムな位置に再配置する．この処理は最大 `maxcnt_ea` 回まで繰り返される．  
- 有効な子個体が得られなければ，体積を10%拡張して，同じ処理を最大 `maxcnt_ea` 回まで再試行する．  
- それでも失敗した場合は，体積を最大20%まで拡張して構造生成を試みる．それでもうまくいかない場合は，親個体を変更する．

![fig_EA-vc_addition.svg](/images/EA-vc/EA-vc_addition.svg?width=20vw)


